---
title: 函数高级2
categories:
  - 技术
tags:
  - 函数
date: 2023-07-27 15:53:29
---

---

1. 作用域与作用域链

   - 作用域

     - 理解
       - 代码段所在的区域
       - 它是静态的（相对于上下文对象），在编写代码时就确定了
     - 分类
       - 全局作用域
       - 函数作用域
       - 块作用域
     - 作用
       - 隔离变量，不同作用域下同名变量不会有冲突

   - 作用域与执行上下文
     - 区别 1
       - 全局作用域外，每个函数都会创建自己的作用域，作用域在函数定义时就已经确定了，而不是在调用时确定
       - 全局执行上下文环境是在全局作用域确定后，js 代码马上执行之前创建
       - 函数执行上下文环境是在调用函数时，函数体代码执行之前创建
     - 区别 2
       - 作用域是静态的，只要函数定义好了就一直存在，且不会变化
       - 上下文环境是动态的，调用函数时创建，函数调用结束时上下文环境就自动释放
     - 联系
       - 执行上下文环境（对象）是从属于所在的作用域
       - 全局上下文环境 ==> 全局作用域
       - 函数上下文环境 ==> 对应的函数使用域
   - 作用域链

<!-- more -->

2. 闭包

   - 如何产生闭包
     - 当一个嵌套的内部（子）函数引用了嵌套的外部（父）函数的变量（函数）时，就产生了闭包
   - 闭包到底是什么
     - 使用 chrome 查看
     - 理解一：闭包是嵌套的内部函数
     - 理解二：包含被引用变量（函数）的对象
     - 注意：闭包存在于嵌套的内部函数中
   - 产生闭包的条件
     - 函数嵌套
     - 内部函数引用了外部函数的数据（变量/函数)
   - 闭包的作用
     - 使函数内部的变量在函数执行完后,仍然存活在内存中(延长了局部变量的声明周期)
     - 让函数外部可以操作(读写)到函数内部的数据(变量/函数)
   - 闭包的应用:定义 JS 模块
     - 具有特定功能的 js 文件
     - 将所有的数据和功能都封装在一个函数内部(私有的)
     - 只向外暴露一个包含 n 个方法的对象或函数
     - 模块的使用者,只需要通过模块暴露的对象调用方法来实现对应的功能
   - 缺点
     - 函数执行完后,函数内的局部变量没有释放,占用内存时间变长
     - 容易造成内存泄漏
   - 解决
     - 能不用闭包就不用
     - 及时释放
